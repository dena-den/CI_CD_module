pipeline {
   agent any


   stages {
      stage('Adding_path') {
        steps {
          echo 'Path'
        }
      }
      stage('Creating_environment') {
        steps{
          bat("C:\\1PROGRAMS\\Python\\python.exe -m venv .venv")
          bat(".venv\\Scripts\\activate")
          bat("C:\\1PROGRAMS\\Python\\python.exe -m pip install -r requirements.txt")
        }
        }
   
   stage('Runing_tests') {
     steps {
        bat("C:\ProgramData\Jenkins\.jenkins\workspace\CI_CD_pipeline\.venv\Scripts\\pytest.exe -v")
     }
   }
   stage('Result') {
      steps {
        echo 'Success!'
      }
   }
  }
}
